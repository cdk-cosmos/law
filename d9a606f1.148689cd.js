(window.webpackJsonp=window.webpackJsonp||[]).push([[202],{258:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return s})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return u}));var r=n(2),o=n(6),a=(n(0),n(289)),i={id:"getting_started_core",title:"Getting Started with the Core",sidebar_label:"Core"},s={unversionedId:"getting_started_core",id:"getting_started_core",isDocsHomePage:!1,title:"Getting Started with the Core",description:"In the previous step, we bootstrapped the bootstrap code. This gave us IAM roles and a codebuild project, which we can now use to bootstrap Cosmos into the account defined in your bin/main.ts file.",source:"@site/guides/getting_started_core.md",permalink:"/law/guides/getting_started_core",editUrl:"https://github.com/cdk-cosmos/law/edit/master/guides/getting_started_core.md",sidebar_label:"Core",sidebar:"guides",previous:{title:"Getting Started - Bootstrapping",permalink:"/law/guides/getting_started_bootstrap"},next:{title:"Getting Started with Extensions",permalink:"/law/guides/getting_started_extension"}},c=[{value:"What you&#39;ll get",id:"what-youll-get",children:[]},{value:"Next Steps",id:"next-steps",children:[]},{value:"Next Step: Deploying Cosmos Extension",id:"next-step-deploying-cosmos-extension",children:[]}],l={rightToc:c};function u(e){var t=e.components,i=Object(o.a)(e,["components"]);return Object(a.b)("wrapper",Object(r.a)({},l,i,{components:t,mdxType:"MDXLayout"}),Object(a.b)("p",null,"In the previous step, we bootstrapped the bootstrap code. This gave us IAM roles and a codebuild project, which we can now use to bootstrap Cosmos into the account defined in your bin/main.ts file."),Object(a.b)("p",null,"To bootstrap your Cosmos core, run the below command in the base directory of your project:"),Object(a.b)("p",null,Object(a.b)("inlineCode",{parentName:"p"},"npx cdk --app \u201cnode_modules/@cosmos-building-blocks/common/lib/cdk-toolkit/bootstrap-app.js\u201d deploy")),Object(a.b)("p",null,"This will archive your current working directory and pass it as an asset to the CDK Toolkit s3 bucket in your master account, and trigger the CodeBuild job to bootstrap your Cosmos core or extension."),Object(a.b)("h3",{id:"what-youll-get"},"What you'll get"),Object(a.b)("p",null,Object(a.b)("em",{parentName:"p"},"Sample Pattern with Management, Development & Production Accounts, with two Solar Systems in Dev (Dev & Test):")),Object(a.b)("p",null,Object(a.b)("img",{src:n(321).default})),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"Cosmos resources ",Object(a.b)("ul",{parentName:"li"},Object(a.b)("li",{parentName:"ul"},"tld (top level domain) e.g. devops.iagcloud.net"),Object(a.b)("li",{parentName:"ul"},"master role that creates resources and can assume cross-account roles to create resources in those accounts"))),Object(a.b)("li",{parentName:"ul"},"Pipeline to deploy new resources if needed (",Object(a.b)("em",{parentName:"li"},"pipeline naming structure"),")")),Object(a.b)("p",null,"galaxy level"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"if cross account, creates cross-account role that master can assume"),Object(a.b)("li",{parentName:"ul"},"shared KMS encrytion key, can be used by solar systems to encrypt things")),Object(a.b)("p",null,"solar system"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"vpc and subdomain (e.g. dev, tst, prd from tld)"),Object(a.b)("li",{parentName:"ul"},"certificates (optional)")),Object(a.b)("h3",{id:"next-steps"},"Next Steps"),Object(a.b)("p",null,"Once you've bootstrapped your Cosmos core, you can use these resources within extensions to build out your apps."),Object(a.b)("h2",{id:"next-step-deploying-cosmos-extension"},Object(a.b)("a",Object(r.a)({parentName:"h2"},{href:"/law/guides/getting_started_extension"}),"Next Step: Deploying Cosmos Extension")))}u.isMDXComponent=!0},289:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));var r=n(0),o=n.n(r);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=o.a.createContext({}),u=function(e){var t=o.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},p=function(e){var t=u(e.components);return o.a.createElement(l.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},d=o.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,i=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),p=u(n),d=r,m=p["".concat(i,".").concat(d)]||p[d]||b[d]||a;return n?o.a.createElement(m,s(s({ref:t},l),{},{components:n})):o.a.createElement(m,s({ref:t},l))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,i=new Array(a);i[0]=d;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var l=2;l<a;l++)i[l]=n[l];return o.a.createElement.apply(null,i)}return o.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},321:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/cosmos-core-bootstrap-566fb257eef7f87fafbfd5e8ce96cef4.png"}}]);